# A股早盘竞价与尾盘选股分析程序

## 简介

这是一套完整的A股分析工具，包含两个核心功能：

1. **早盘竞价分析** - 每个交易日9:25分自动运行，分析竞价情况
2. **尾盘选股分析** - 每个交易日14:30分自动运行，选出符合条件的个股

## 功能特点

### 早盘竞价分析

- **数据获取**: 从东方财富/新浪财经API获取实时竞价数据
- **板块分析**: 识别当日热门板块（行业板块）
- **概念挖掘**: 通过关键词匹配识别热门细分概念
- **涨停追踪**: 统计竞价涨停股票和高开股票
- **自动报告**: 生成Markdown格式的分析报告
- **自动运行**: 通过GitHub Actions在每个交易日9:25分自动执行

### 尾盘选股分析

- **智能选股**: 基于技术指标自动筛选2-10只符合条件的个股
- **详细信息**: 获取每只股票的市值、盈利状况、所属板块、概念等
- **公司简介**: 获取公司业务状况简介
- **市场消息**: 汇总个股相关市场信息
- **表格展示**: 所有信息汇总在一个表格内便于查阅
- **自动运行**: 通过GitHub Actions在每个交易日14:30分自动执行

## 分析逻辑

### 热门板块识别

1. **涨停数量**: 竞价涨停股数最多的板块优先
2. **高开数量**: 高开超过3%的股票数多的板块优先
3. **平均涨幅**: 板块平均涨幅作为辅助指标

综合得分 = 涨停数 × 100 + 高开数 × 10 + 平均涨幅

### 细分板块识别

通过股票名称关键词匹配识别热门概念，包括但不限于：
- AI/人工智能
- ChatGPT/AIGC
- CPO/光模块
- 机器人
- 低空经济
- 算力
- 无人驾驶
- 固态电池
- 飞行汽车
- 卫星导航
- 量子计算
- 新能源车
- 储能
- GPU/芯片

## 分析逻辑

### 热门板块识别

1. **涨停数量**: 竞价涨停股数最多的板块优先
2. **高开数量**: 高开超过3%的股票数多的板块优先
3. **平均涨幅**: 板块平均涨幅作为辅助指标

综合得分 = 涨停数 × 100 + 高开数 × 10 + 平均涨幅

### 细分板块识别

通过股票名称关键词匹配识别热门概念，包括但不限于：
- AI/人工智能
- ChatGPT/AIGC
- CPO/光模块
- 机器人
- 低空经济
- 算力
- 无人驾驶
- 固态电池
- 飞行汽车
- 卫星导航
- 量子计算
- 新能源车
- 储能
- GPU/芯片

### 尾盘选股策略

**选股条件**:
- 涨幅范围: 2% - 7%（避免追高涨停股）
- 价格区间: 3 - 100元
- 量比: ≥1.5（放量）
- 换手率: 2% - 15%（适度换手）
- 市值范围: 10 - 500亿元
- 过滤ST股票

**评分标准**:
- 涨速分: 尾盘强势拉升得分更高
- 量比分: 放量程度得分
- 换手率分: 适度换手更优
- 涨幅分: 适中涨幅得分
- 位置分: 低位启动更优

## 文件结构

```
.
├── auction_analysis.py           # 早盘竞价分析程序
├── close_market_selector.py     # 尾盘选股程序
├── .github/workflows/
│   ├── auction-analysis.yml      # 早盘竞价定时任务
│   └── close-market-selection.yml  # 尾盘选股定时任务
├── reports/                       # 分析报告输出目录
│   ├── auction_report_YYYYMMDD.md  # 竞价分析报告
│   └── close_market_selection_YYYYMMDD.md  # 尾盘选股报告
└── README_AUCTION.md              # 本说明文件
```

## 使用方法

### 本地运行

1. 安装依赖：
```bash
pip install requests
```

2. 运行早盘竞价分析：
```bash
python auction_analysis.py
```

3. 运行尾盘选股分析：
```bash
python close_market_selector.py
```

4. 查看报告：
分析完成后，报告将保存到 `reports/` 目录

### GitHub Actions自动运行

程序已配置GitHub Actions定时任务：

**早盘竞价分析**:
- 时间：周一至周五 01:25 UTC = 北京时间 09:25
- 触发方式：自动定时触发、手动触发（workflow_dispatch）

**尾盘选股分析**:
- 时间：周一至周五 06:30 UTC = 北京时间 14:30
- 触发方式：自动定时触发、手动触发（workflow_dispatch）

**报告自动提交**:
- 分析完成后自动提交报告到仓库
- 报告保存在 `reports/` 目录
- 可在GitHub仓库的Actions标签页查看运行历史

## 报告内容

### 早盘竞价分析报告

1. **市场概况**: 报告日期和分析时间
2. **热门板块排行**: TOP10热门行业板块
3. **板块详细分析**: 重点板块的详细数据
4. **细分板块排行**: TOP10热门概念板块
5. **概念详细分析**: 重点概念的详细数据
6. **竞价涨幅TOP20**: 当日竞价涨幅最高的20只股票
7. **市场分析总结**: 当日市场主线和热点总结

### 尾盘选股报告

1. **选股概览**: 选出的股票数量
2. **选股结果明细表**: 包含代码、名称、现价、涨幅、量比、换手率、市值、市盈率、行业、得分等
3. **个股详细分析**: 每只股票的详细信息
   - 基础信息：现价、涨跌幅、量比、换手率、涨速
   - 公司基本面：总市值、市盈率、市净率、ROE、净利润、营业收入、增长率
   - 所属行业和相关概念
   - 公司简介
   - 近期市场消息
4. **选股策略说明**: 选股条件和评分标准

## 示例报告

### 早盘竞价分析示例

```markdown
# A股早盘竞价分析报告

**日期**: 2026年01月20日 星期一
**分析时间**: 09:25:00

---

## 🔥 今日热门板块

| 排名 | 板块名称 | 平均涨幅 | 涨停股数 | 高开股数 | 板块股票数 |
|------|----------|----------|----------|----------|------------|
| 1 | 电子 | 3.25% | 5 | 12 | 45 |
| 2 | 计算机 | 2.89% | 3 | 10 | 38 |
| ...

## 📋 市场分析总结

**今日市场主线**: 电子

- 电子板块表现强势，有5只股票竞价涨停
- 资金明显流入该板块，今日可重点关注
```

### 尾盘选股示例

```markdown
# A股尾盘选股分析报告

**日期**: 2026年01月20日 星期一
**选股时间**: 14:30:00

---

## 📊 选股概览

今日尾盘选出 **5** 只符合条件的个股

---

## 🎯 选股结果明细表

| 排名 | 代码 | 名称 | 现价 | 涨幅 | 量比 | 换手率 | 市值 | 市盈率 | 行业 | 得分 |
|------|------|------|------|------|------|--------|------|--------|------|
| 1 | 300xxx | 某科技公司 | 45.32 | +5.2% | 2.3 | 6.8% | 120.5亿 | 35.6 | 电子 | 65.2 |
| 2 | 600xxx | 某制造公司 | 18.76 | +4.8% | 3.1 | 8.2% | 85.3亿 | 28.9 | 机械 | 58.7 |
| ...

## 📋 个股详细分析

### 1. 某科技公司 (300xxx)

**基础信息**:
- 现价: 45.32元
- 涨跌幅: +5.2%
- 量比: 2.3
- 换手率: 6.8%
- 涨速: 12.5

**公司基本面**:
- 总市值: 120.5亿
- 市盈率: 35.6
- 市净率: 5.2
- ROE: 18.5%
- 净利润: 3.2亿
- 营业收入: 12.8亿
- 净利润增长率: 25.6%
- 营收增长率: 18.3%

**所属行业**: 电子

**相关概念**: AI/人工智能, 芯片, 半导体

**公司简介**:
某某科技股份有限公司是一家专注于人工智能芯片研发与销售的高新技术企业...

**近期消息**:
- 公司发布新一代AI芯片产品
- 获得某知名企业大额订单
- 参与国际标准制定...
```

## 注意事项

### 早盘竞价分析

1. **数据时效性**: 竞价数据仅在交易日9:25分有效，非交易时间可能无法获取数据
2. **数据准确性**: 数据来源于公开API，可能存在延迟或误差
3. **投资风险**: 竞价数据仅供参考，不构成投资建议
4. **涨停判断**: 竞价涨停不代表收盘一定涨停，开盘后可能变化

### 尾盘选股分析

1. **投资建议**: 本选股结果仅供参考，不构成投资建议
2. **后续走势**: 尾盘强势不代表次日一定上涨
3. **风险控制**: 投资有风险，入市需谨慎
4. **个人判断**: 请结合个人风险承受能力做出投资决策

## 扩展功能

可以根据需要扩展以下功能：

1. **多数据源**: 添加更多数据源（东方财富、同花顺等）
2. **数据可视化**: 添加图表展示（使用matplotlib或plotly）
3. **历史对比**: 与历史数据对比分析
4. **消息推送**: 集成邮件/企业微信等消息推送
5. **回测功能**: 基于历史竞价数据进行策略回测

## 技术支持

如有问题或建议，欢迎提交Issue。
